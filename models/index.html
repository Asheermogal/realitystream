<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>RealityStream - ML Model Overview and Selection</title>
<link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
<meta name="viewport" content="width=device-width, initial-scale=1">

<script type="text/javascript" src="../../localsite/js/localsite.js?showheader=true"></script>

<script>
loadMarkdown("README.md", "readmeDiv", "_parent", 1, afterModelCheckboxesLoad);

function afterModelCheckboxesLoad() {
  let hash = getHash();
  const modelCheckboxes = document.querySelectorAll('input[name="model"][type="checkbox"]');

  // Parse the comma-separated list from hash.models
  const selectedModels = hash.models ? hash.models.split(',').map(model => model.trim()) : [];

  // Update each checkbox based on whether its value is in the selected models list
  modelCheckboxes.forEach(checkbox => {
      checkbox.checked = selectedModels.includes(checkbox.value);
  });
}

function redirectToMainPage() {
  // Get all checked checkboxes with the name 'model'
  const checkedModels = Array.from(document.querySelectorAll('input[name="model"]:checked'));

  // Extract their values into a comma-separated string
  const selectedModel = checkedModels.map(checkbox => checkbox.value).join(',');

  // Redirect if there are selected models, otherwise show an alert
  if (selectedModel) {
    // Get current hash parameters and preserve them
    const currentHash = getHash();
    // Update the models parameter
    currentHash.models = selectedModel;
    
    // Use updateHash to properly handle nested objects without redirecting
    updateHash(currentHash);
    
    // Navigate to parent directory with hash preserved
    window.location.href = '../' + window.location.hash;
  } else {
    alert("Please select a model first.");
  }
}

</script>
</head>

<body>

<div class="content contentpadding">
  <div id="readmeDiv" class="mdTable"></div>
</div>

</body>
</html>
